# Server (Bloodcraftplus)

Bloodcraftplus is the server-side mod that implements all the RPG systems for BloodCraftPlus.

## Architecture Overview

The server mod is organized into several key systems:

```
Server/Bloodcraftplus/
├── Commands/          # Chat commands for each system
├── Systems/           # Core game systems
│   ├── Expertise/     # Weapon mastery
│   ├── Familiars/     # Pet companion system
│   ├── Legacies/      # Blood type bonuses
│   ├── Leveling/      # Experience & levels
│   ├── Professions/   # Gathering & crafting
│   └── Quests/        # Daily/weekly objectives
├── Services/          # Supporting services
├── Patches/           # Harmony patches
└── Utilities/         # Shared helpers
```

---

## Systems Overview

| System | Description | Config Key |
|--------|-------------|------------|
| [Leveling](/server/leveling) | Experience and player levels | `LevelingSystem` |
| [Expertise](/server/expertise) | Weapon mastery and stat bonuses | `ExpertiseSystem` |
| [Legacies](/server/legacies) | Blood type progression | `LegacySystem` |
| [Classes](/server/classes) | Player classes with abilities | `ClassSystem` |
| [Familiars](/server/familiars) | Capture and summon creatures | `FamiliarSystem` |
| [Quests](/server/quests) | Daily and weekly objectives | `QuestSystem` |
| [Professions](/server/professions) | Gathering and crafting bonuses | `ProfessionSystem` |
| [Prestige](/server/prestige) | Endgame reset mechanics | `PrestigeSystem` |

---

## How Systems Interact

```
┌─────────────────────────────────────────────────────────────┐
│                     Player Progression                       │
├──────────────┬──────────────┬──────────────┬────────────────┤
│   Leveling   │  Expertise   │   Legacies   │    Classes     │
│  (XP/Level)  │  (Weapons)   │   (Blood)    │  (Abilities)   │
└──────┬───────┴──────┬───────┴──────┬───────┴────────┬───────┘
       │              │              │                │
       └──────────────┴──────────────┴────────────────┘
                              │
                    ┌─────────┴─────────┐
                    │     Prestige      │
                    │ (Reset & Enhance) │
                    └───────────────────┘
```

---

## Data Flow

When a player performs actions, the server:

1. **Processes the event** — Kill, harvest, craft, etc.
2. **Updates progression** — XP, expertise, legacy gains
3. **Applies bonuses** — Stat modifiers, abilities
4. **Syncs to client** — Sends updated data via chat protocol

<Callout type="info">
  The server syncs data to connected EclipsePlus clients automatically. The sync frequency is controlled by the `Eclipsed` config option.
</Callout>

---

## Configuration

All systems can be enabled/disabled and customized through the config file:

```
BepInEx/config/com.dinasor.bloodcraftplus.cfg
```

See the [Configuration Reference](/reference/config) for all options.

---

## System Deep Dives

- [Leveling System](/server/leveling) — Experience, levels, rested XP
- [Weapon Expertise](/server/expertise) — Weapon mastery and stat bonuses
- [Blood Legacies](/server/legacies) — Blood type progression
- [Classes](/server/classes) — Player classes and abilities
- [Familiars](/server/familiars) — Capture, summon, and battle
- [Quests](/server/quests) — Daily and weekly objectives
- [Professions](/server/professions) — Gathering and crafting
- [Prestige & Exoform](/server/prestige) — Endgame progression
