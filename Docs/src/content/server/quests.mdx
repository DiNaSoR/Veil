# Quests

The quest system provides daily and weekly objectives with rewards.

## Overview

- Complete daily quests for regular rewards
- Weekly quests offer larger rewards
- Track progress in chat or via the client UI
- Reroll quests for a cost

---

## Quest Types

### Daily Quests

Small objectives that reset each day:
- Kill specific enemy types
- Gather resources
- Craft items

### Weekly Quests

Larger objectives with better rewards:
- Defeat VBlood bosses
- Complete multiple kill objectives
- Gather rare resources

---

## Rewards

Quest rewards are configurable and can include:
- Items (configurable pool)
- Experience bonuses
- Chance for perfect gems (daily quests)

<Callout type="tip">
  Perfect gems can be used to influence spell schools when crafting Primal Jewels!
</Callout>

---

## Tracking Quests

### Chat Commands

```
.quest d       → View daily quest
.quest w       → View weekly quest
.quest t [Type] → Track nearest target
.quest log     → Toggle progress messages
```

### Client UI

Open the Character Menu (F8) to view quest progress in a visual interface.

---

## Rerolling

Don't like your current quest? Reroll it for a cost:

```
.quest r daily   → Reroll daily quest
.quest r weekly  → Reroll weekly quest
```

<Callout type="warning">
  Weekly reroll won't work if already completed for the week!
</Callout>

---

## Chat Commands

| Command | Shortcut | Description |
|---------|----------|-------------|
| `.quest progress [Type]` | `.quest p` | Show quest progress |
| `.quest log` | `.quest log` | Toggle progress logging |
| `.quest track [Type]` | `.quest t` | Track nearest target |
| `.quest reroll [Type]` | `.quest r` | Reroll quest for cost |
| `.quest complete [Player] [Type]` | `.quest c` | (Admin) Complete quest |
| `.quest refresh [Player]` | `.quest rf` | (Admin) Refresh quests |

---

## Configuration

### Core Settings

| Option | Default | Description |
|--------|---------|-------------|
| `QuestSystem` | `false` | Enable/disable quests |
| `InfiniteDailies` | `false` | Allow unlimited daily completions |

### Rewards

| Option | Default | Description |
|--------|---------|-------------|
| `QuestRewards` | `"28358550,576389135,-257494203"` | Reward item PrefabGUIDs |
| `QuestRewardAmounts` | `"50,250,50"` | Reward amounts |
| `DailyPerfectChance` | `0.1` | Perfect gem drop chance |

### Reroll Costs

| Option | Default | Description |
|--------|---------|-------------|
| `RerollDailyPrefab` | `-949672483` | Daily reroll item |
| `RerollDailyAmount` | `50` | Daily reroll cost |
| `RerollWeeklyPrefab` | `-949672483` | Weekly reroll item |
| `RerollWeeklyAmount` | `50` | Weekly reroll cost |

---

## Server Implementation

Key files:
- `Systems/Quests/QuestSystem.cs` — Core quest logic
- `Services/QuestService.cs` — Quest generation and tracking
- `Commands/QuestCommands.cs` — Chat commands
