# Weapon Expertise

The expertise system tracks weapon mastery and provides stat bonuses.

## Overview

- Gain expertise in weapon types by getting kills
- Choose stats to enhance per weapon
- Stats scale with your expertise level
- Class synergies multiply certain stats

---

## How It Works

### Gaining Expertise

Expertise is earned when you:
- Get the **final blow** with a weapon equipped
- Kill enemies (regular and VBlood)

<Callout type="info">
  The weapon must be equipped when you deliver the killing blow!
</Callout>

### Weapon Types

Each weapon type has its own expertise track:
- Sword, Axe, Mace, Spear
- Crossbow, Great Sword, Slashers
- Pistols, Reaper, Longbow, Whip

---

## Stat Bonuses

Pick stats to enhance when equipping each weapon:

| Stat | Base Cap | Description |
|------|----------|-------------|
| Max Health | 250 | Bonus HP |
| Movement Speed | 0.25 | Speed boost |
| Primary Attack Speed | 0.10 | Attack speed |
| Physical Life Leech | 0.10 | Heal on physical damage |
| Spell Life Leech | 0.10 | Heal on spell damage |
| Primary Life Leech | 0.15 | Heal on primary attacks |
| Physical Power | 20 | Physical damage |
| Spell Power | 10 | Spell damage |
| Physical Crit Chance | 0.10 | Crit rate |
| Physical Crit Damage | 0.50 | Crit multiplier |
| Spell Crit Chance | 0.10 | Spell crit rate |
| Spell Crit Damage | 0.50 | Spell crit multiplier |

### Class Synergies

Classes enhance specific stats with a multiplier (default 1.5x):
- Blood Knight: MaxHealth, AttackSpeed, PrimaryLifeLeech, PhysicalPower
- Demon Hunter: MovementSpeed, AttackSpeed, PhysCritChance, PhysCritDamage
- And so on...

---

## Chat Commands

| Command | Shortcut | Description |
|---------|----------|-------------|
| `.weapon get` | `.wep get` | View weapon expertise |
| `.weapon log` | `.wep log` | Toggle gains logging |
| `.weapon list` | `.wep l` | List weapon types |
| `.weapon liststats` | `.wep lst` | List available stats |
| `.weapon choosestat [Weapon] [Stat]` | `.wep cst` | Select bonus stat |
| `.weapon resetstats` | `.wep rst` | Reset stats for current weapon |

---

## Unarmed Slots

When enabled, you can lock spells to use when unarmed:

```
.weapon lockspells
```

This captures your currently equipped spells for unarmed use.

---

## Configuration

### Core Settings

| Option | Default | Description |
|--------|---------|-------------|
| `ExpertiseSystem` | `false` | Enable/disable expertise |
| `MaxExpertiseLevel` | `100` | Maximum expertise level |
| `ExpertiseStatChoices` | `3` | Stats you can pick (max 3) |

### XP Multipliers

| Option | Default | Description |
|--------|---------|-------------|
| `UnitExpertiseMultiplier` | `2` | XP from regular units |
| `VBloodExpertiseMultiplier` | `5` | XP from VBloods |
| `UnitSpawnerExpertiseFactor` | `1` | XP from spawners |

### Stat Caps

Each stat has a configurable cap. See [Configuration Reference](/reference/config) for the full list.

### Reset Cost

| Option | Default | Description |
|--------|---------|-------------|
| `ResetExpertiseItem` | `576389135` | Item PrefabGUID for reset |
| `ResetExpertiseItemQuantity` | `500` | Cost to reset stats |

---

## Prestige

Weapon expertise can be prestiged to:
- Increase stat caps
- Reduce rate gains
- Show mastery dedication

See [Prestige System](/server/prestige) for details.

---

## Server Implementation

Key files:
- `Systems/Expertise/WeaponSystem.cs` — Core expertise logic
- `Systems/Expertise/WeaponManager.cs` — Stat calculations
- `Commands/WeaponCommands.cs` — Chat commands
